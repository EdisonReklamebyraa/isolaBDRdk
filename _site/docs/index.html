<h1 id="api-documentation">Api Documentation</h1>

<p>Welcome to alt API docs page. These pages contain the reference material for the latest version of alt. The pages are organized by various features that alt has.</p>

<h2 id="alt">Alt</h2>

<p>Creating a new instance of alt.</p>

<p><code>js
var Alt = require('alt');
var alt = new Alt();
</code></p>

<h2 id="altclassconstructor">AltClass#constructor</h2>

<blockquote>
  <p>constructor(config: object) : Alt</p>
</blockquote>

<p>The alt constructor takes an optional configuration object. This is where you can configure your alt instance.</p>

<p><code>js
var alt = new Alt({
  dispatcher: new MyDispatcher()
});
</code></p>

<h3 id="config-object">Config Object</h3>

<p>The following properties can be defined on the config object:</p>

<h4 id="dispatcher">dispatcher</h4>

<p>By default alt uses Facebook’s Flux <a href="https://github.com/facebook/flux/blob/master/src/Dispatcher.js">dispatcher</a>, but you can provide your own dispatcher implementation for alt to use. Your dispatcher must have a similar interface to the Facebook dispatcher including, <code>waitFor</code>, <code>register</code>, and <code>dispatch</code>.</p>

<p>One easy way to provide your own dispatcher is to extend the Facebook dispatcher. The following example shows a dispatcher that extends Facebook’s dispatcher, but modifies it such that all dispatched payloads are logged to the console and <code>register</code> has a custom implementation.</p>

<p>```js
class MyDispatcher extends Dispatcher {
  constructor() {
    super();
  }</p>

<p>dispatch(payload) {
    console.log(payload);
    super.dispatch(payload);
  }</p>

<p>register(callback) {
    // custom register implementation
  }
}
```</p>

<h4 id="serialize">serialize</h4>

<p>This controls how store data is serialized in snapshots. By default alt uses <code>JSON.stringify</code>, but you can provide your own function to serialize data.</p>

<h4 id="deserialize">deserialize</h4>

<p>This controls how store data is deserialized from snapshot/bootstrap data. By default alt uses <code>JSON.parse</code>, but you can provide your own function to deserialize data.</p>

<h4 id="statekey">stateKey</h4>

<p><code>stateKey</code> is a string that controls where state should be defined at the store level. For example:</p>

<p>```js
var alt = new Alt({
  stateKey: ‘cherry’
});</p>

<p>class MyStore {
  constructor() {
    // state now goes in this.cherry
    this.cherry = {
      a: 1,
      b: 2,
      c: 3
    };</p>

<pre><code>// instance properties declared below do not go into state
this.isPrivate = 'yes'
this.yay = true   } } ```
</code></pre>

<h4 id="statetransforms">stateTransforms</h4>

<p>This is an array of functions you can provide which will be executed every time <code>createStore</code> or <code>createUnsavedStore</code> is ran. It will iterate through the array applying each function to your store. This can be useful if you wish to perform any pre-processing or transformations to your store before it’s created.</p>

<h2 id="instances">Instances</h2>

<p>Alternatively, you can <a href="/docs/altInstances/">create instances</a> of the entire alt universe including stores.</p>

<p>```js
class Flux extends Alt {
  constructor() {
    // add your actions and stores here
  }
}</p>

<p>var flux = new Flux();
```</p>
